{"version":3,"sources":["../../src/lib/checkForMissingSettings.js"],"names":["config","personalAccessToken","gistId","hyperConfig","getConfig","syncSettings","quiet","commands","open","notify","notification","message"],"mappings":";;;;;;AAAA;;AACA;;;;AACA;;;;AACA;;;;kBAEe,gBAAQ;AACrB,MAAMA,SAAS,6BAAf;AADqB,MAEbC,mBAFa,GAEmBD,MAFnB,CAEbC,mBAFa;AAAA,MAEQC,MAFR,GAEmBF,MAFnB,CAEQE,MAFR;;AAGrB,MAAMC,cAAc,cAAIH,MAAJ,CAAWI,SAAX,GAAuBC,YAAvB,IAAuC,EAAEC,OAAO,KAAT,EAA3D;;AAEA,MAAIL,uBAAuBC,MAA3B,EAAmC;AACjC,QAAMK,WAAW,2BAAYP,MAAZ,EAAoBQ,IAApB,EAA0BL,WAA1B,CAAjB;AACA,WAAO,EAAEH,cAAF,EAAUO,kBAAV,EAAP;AACD;;AAED,MAAME,SAAS,SAATA,MAAS;AAAA,WAAWD,KAAKE,YAAL,wBAA8BC,OAA9B,sBAAX;AAAA,GAAf;;AAEA,MAAI,CAACV,mBAAD,IAAwB,CAACC,MAA7B,EAAqC;AACnCO,WAAO,0CAAP;AACA,WAAO,KAAP;AACD;;AAED,MAAI,CAACR,mBAAL,EAA0BQ,OAAO,qDAAP;AAC1B,MAAI,CAACP,MAAL,EAAaO,OAAO,wCAAP;AACb,SAAO,KAAP;AACD,C","file":"checkForMissingSettings.js","sourcesContent":["import { app } from 'electron';\nimport getGitConfig from './getGitConfig';\nimport getCommands from './getCommands';\nimport { errorTitle, setupUrl } from '../constants';\n\nexport default open => {\n  const config = getGitConfig();\n  const { personalAccessToken, gistId } = config;\n  const hyperConfig = app.config.getConfig().syncSettings || { quiet: false };\n\n  if (personalAccessToken && gistId) {\n    const commands = getCommands(config, open, hyperConfig);\n    return { config, commands };\n  }\n\n  const notify = message => open.notification(errorTitle, message, setupUrl);\n\n  if (!personalAccessToken && !gistId) {\n    notify('Settings not found! Click for more info.');\n    return false;\n  }\n\n  if (!personalAccessToken) notify('`personalAccessToken` not set! Click for more info.');\n  if (!gistId) notify('`gistId` not set! Click for more info.');\n  return false;\n};\n"]}