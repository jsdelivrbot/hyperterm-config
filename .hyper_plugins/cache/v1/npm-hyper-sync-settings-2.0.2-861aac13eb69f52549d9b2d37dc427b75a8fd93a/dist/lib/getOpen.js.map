{"version":3,"sources":["../../src/lib/getOpen.js"],"names":["webContents","runJs","js","run","wrappedJs","executeJavaScript","undefined","open","window","url","notification","title","body","item","path"],"mappings":";;;;;;kBAAe,gBAAqB;AAAA,MAAlBA,WAAkB,QAAlBA,WAAkB;;AAClC,MAAMC,QAAQ,SAARA,KAAQ,CAACC,EAAD,EAAKC,GAAL,EAAa;AACzB,QAAIC,0CAEEF,EAFF,oBAAJ;AAKA,QAAI,CAACC,GAAL,EAAU,OAAOC,SAAP;AACVA,sBAAgBA,SAAhB;AACAJ,gBAAYK,iBAAZ,CAA8BD,SAA9B;AACA,WAAOE,SAAP;AACD,GAVD;;AAYA,MAAMC,OAAO,SAAPA,IAAO;AAAA,WAAQ;AACnBC,cAAQ;AAAA,eAAOP,wFAESQ,GAFT,iBAGZN,GAHY,CAAP;AAAA,OADW;AAKnBO,oBAAc,sBAACC,KAAD,EAAQC,IAAR,EAAcH,GAAd;AAAA,eAAsBR,sEAE7BU,SAAS,EAFoB,4CAIrBC,QAAQ,EAJa,0CAOhCH,mCAAiCF,KAAK,KAAL,EAAYC,MAAZ,CAAmBC,GAAnB,CAPD,cAQjCN,GARiC,CAAtB;AAAA,OALK;AAcnBU,YAAM;AAAA,eAAQZ,oFAEMa,IAFN,iBAGXX,GAHW,CAAR;AAAA;AAda,KAAR;AAAA,GAAb;;AAoBA,SAAOI,KAAK,IAAL,CAAP;AACD,C","file":"getOpen.js","sourcesContent":["export default ({ webContents }) => {\n  const runJs = (js, run) => {\n    let wrappedJs = `\n      () => {\n        ${js}\n      }\n    `;\n    if (!run) return wrappedJs;\n    wrappedJs = `(${wrappedJs})()`;\n    webContents.executeJavaScript(wrappedJs);\n    return undefined;\n  };\n\n  const open = run => ({\n    window: url => runJs(`\n      const { shell } = require('electron');\n      shell.openExternal('${url}');\n    `, run),\n    notification: (title, body, url) => runJs(`\n      const notification = new Notification(\n        '${title || ''}',\n        {\n          body: '${body || ''}',\n        }\n      );\n      ${url && `notification.onclick = ${open(false).window(url)}`}\n    `, run),\n    item: path => runJs(`\n      const { shell } = require('electron');\n      shell.openItem('${path}');\n    `, run),\n  });\n\n  return open(true);\n};\n"]}